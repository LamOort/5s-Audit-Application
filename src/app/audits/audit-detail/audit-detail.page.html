<div class="ion-text-center" *ngIf="isLoading">
  <ion-spinner color="primary"></ion-spinner>
</div>

<ion-header *ngIf="!isLoading">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/audits/list"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center">
      <span class="toolbar-title">
        Audit {{ loadedAudit.assessedDate }} Detail
      </span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="!isLoading">
    <ion-grid>
      <ion-row>
        <ion-col>
          <div
            id="chartdiv"
            style="width: 100%; height: 40vh"
            #chartElement
          ></div>
        </ion-col>

        <ion-col style="margin-top: 5vh">
          <ion-row class="ion-padding">
            <ion-col>
              <ion-label><strong>Department Name:</strong></ion-label>
            </ion-col>
            <ion-col>
              {{ loadedAudit.departmentName }}
            </ion-col>
          </ion-row>

          <ion-row class="ion-padding">
            <ion-col>
              <ion-label><strong>Company Name:</strong></ion-label>
            </ion-col>
            <ion-col>
              {{ loadedAudit.companyName }}
            </ion-col>
          </ion-row>

          <ion-row class="ion-padding">
            <ion-col>
              <ion-label><strong>Auditor:</strong></ion-label>
            </ion-col>
            <ion-col>
              {{ loadedAudit.auditorName }}
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>

      <mat-vertical-stepper linear #stepper>
        <mat-step>
          <ion-row>
            <ion-col>
              <ng-template class="ion-text-center" matStepLabel>
                <p style="font-weight: bold; font-size: 24px;">
                  <strong>SORT</strong
                  ><span
                    style="margin: 0 0 0 10px; font-weight: 500 !important; font-size: 18px !important;"
                    >( {{ sortScore }} / 4 )</span
                  >
                </p>
              </ng-template>
            </ion-col>
          </ion-row>

          <app-check-item-list
            [checkItemList]="loadedAudit.checkItems"
            phase="SORT"
          ></app-check-item-list>

          <!-- <ion-row>
            <ion-col>
              <div class="ion-text-center">
                <button class="button_needToBeHidden" mat-button matStepperNext>
                  <ion-button>Next</ion-button>
                </button>
              </div>
            </ion-col>
          </ion-row> -->
        </mat-step>

        <mat-step>
          <ion-row>
            <ion-col>
              <ng-template class="ion-text-center" matStepLabel>
                <p style="font-weight: bold; font-size: 24px;">
                  <strong>SET IN ORDER</strong
                  ><span
                    style="margin: 0 0 0 10px; font-weight: 500 !important; font-size: 18px !important;"
                    >( {{ orderScore }} / 4 )</span
                  >
                </p>
              </ng-template>
            </ion-col>
          </ion-row>

          <app-check-item-list
            [checkItemList]="loadedAudit.checkItems"
            phase="ORDER"
          ></app-check-item-list>

          <!-- <ion-row>
            <ion-col size="6">
              <div class="ion-text-center">
                <button
                  class="button_needToBeHidden"
                  mat-button
                  matStepperPrevious
                >
                  <ion-button>Back</ion-button>
                </button>
              </div>
            </ion-col>
            <ion-col>
              <div class="ion-text-center">
                <button class="button_needToBeHidden" mat-button matStepperNext>
                  <ion-button>Next</ion-button>
                </button>
              </div>
            </ion-col>
          </ion-row> -->
        </mat-step>

        <mat-step>
          <ion-row class="ion-padding">
            <ion-col>
              <ng-template class="ion-text-center" matStepLabel>
                <p style="font-weight: bold; font-size: 24px;">
                  <strong>SHINE</strong
                  ><span
                    style="margin: 0 0 0 10px; font-weight: 500 !important; font-size: 18px !important;"
                    >( {{ shineScore }} / 4 )</span
                  >
                </p>
              </ng-template>
            </ion-col>
          </ion-row>
          <app-check-item-list
            [checkItemList]="loadedAudit.checkItems"
            phase="SHINE"
          ></app-check-item-list>

          <!-- <ion-row>
            <ion-col size="6">
              <div class="ion-text-center">
                <button
                  class="button_needToBeHidden"
                  mat-button
                  matStepperPrevious
                >
                  <ion-button>Back</ion-button>
                </button>
              </div>
            </ion-col>
            <ion-col>
              <div class="ion-text-center">
                <button class="button_needToBeHidden" mat-button matStepperNext>
                  <ion-button>Next</ion-button>
                </button>
              </div>
            </ion-col>
          </ion-row> -->
        </mat-step>

        <mat-step>
          <ion-row class="ion-padding">
            <ion-col>
              <ng-template class="ion-text-center" matStepLabel>
                <p style="font-weight: bold; font-size: 24px;">
                  <strong>STANDARDIZE</strong
                  ><span
                    style="margin: 0 0 0 10px; font-weight: 500 !important; font-size: 18px !important;"
                    >( {{ standardScore }} / 4 )</span
                  >
                </p>
              </ng-template>
            </ion-col>
          </ion-row>

          <app-check-item-list
            [checkItemList]="loadedAudit.checkItems"
            phase="STANDARDIZE"
          ></app-check-item-list>

        <!--   <ion-row>
            <ion-col size="6">
              <div class="ion-text-center">
                <button
                  class="button_needToBeHidden"
                  mat-button
                  matStepperPrevious
                >
                  <ion-button>Back</ion-button>
                </button>
              </div>
            </ion-col>
            <ion-col>
              <div class="ion-text-center">
                <button class="button_needToBeHidden" mat-button matStepperNext>
                  <ion-button>Next</ion-button>
                </button>
              </div>
            </ion-col>
          </ion-row> -->
        </mat-step>

        <mat-step>
          <ion-row class="ion-padding">
            <ion-col>
              <ng-template class="ion-text-center" matStepLabel>
                <p style="font-weight: bold; font-size: 24px;">
                  <strong>SUSTAIN</strong
                  ><span
                    style="margin: 0 0 0 10px; font-weight: 500 !important; font-size: 18px !important;"
                    >( {{ sustainScore }} / 4 )</span
                  >
                </p>
              </ng-template>
            </ion-col>
          </ion-row>

          <app-check-item-list
            [checkItemList]="loadedAudit.checkItems"
            phase="SUSTAIN"
          ></app-check-item-list>

         <!--  <ion-row>
            <ion-col>
              <div class="ion-text-center">
                <button
                  class="button_needToBeHidden"
                  mat-button
                  matStepperPrevious
                >
                  <ion-button>Back</ion-button>
                </button>
              </div>
            </ion-col>
          </ion-row> -->
        </mat-step>
      </mat-vertical-stepper>
    </ion-grid>
  </div>
</ion-content>
